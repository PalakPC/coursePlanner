<!doctype html>
<html lang="en-US">

	<head>
		<meta charset="utf-8">
		<title>Register</title>
		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Varela+Round">
		<link rel="stylesheet" href="css/main.css">
		<link rel="stylesheet" href="css/register.css">
		<link rel="stylesheet" href="./css/bootstrap.css">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
        <script>
        $(document).ready(function(){
            var spec_options = ['', 'Computational Perception and Robotics','Computer Graphics','Computing Systems','Human Centered Computing','High Performance Computing','Human Computer Interaction','Interactive Intelligence','Machine Learning','Modeling and Simulations','Scientific Computing','Social Computing','Visual Analytics'];
            
            $('.gselectlist').empty();
            $.each(spec_options, function(i, p) {
                $('.gselectlist').append($('<option></option>').val(p).html(p));
            });

    var next = 1;
    $(".add-more").click(function(e){
        e.preventDefault();
        var addto = "#field" + next;
        var addRemove = "#field" + (next);
        next = next + 1;
		var newIn = '<div id="field'+next+'"><label for="inputUsername" class="col-sm-1 col-sm-offset-1 control-label">Number </label><div class="col-sm-1"><input name="crn' + next + '" type="number" class="form-control" id="crn' + next + '" min=6000 max=9000 placeholder="crn"></div><label for="inputUsername" class="col-sm-1 control-label">Professor </label><div class="col-sm-3"><input name="prof' + next + '" type="name" class="form-control" id="prof' + next + '" placeholder="prof"></div><label for="inputUsername" class="col-sm-1 control-label">Grade </label><div class="col-sm-1"><input name="grade' + next + '" type="name" class="form-control" id="grade' + next + '" placeholder="grade"></div></div>';
        var newInput = $(newIn);
        var removeBtn = '<button id="remove' + (next - 1) + '" class="btn btn-danger remove-me" >-</button></div><div id="field">';
        var removeButton = $(removeBtn);
        $(addto).after(newInput);
        $(addRemove).after(removeButton);
        $("#field" + next).attr('data-source',$(addto).attr('data-source'));
        $("#count").val(next);  
        
            $('.remove-me').click(function(e){
                e.preventDefault();
                var fieldNum = this.id.charAt(this.id.length-1);
                var fieldID = "#field" + fieldNum;
                $(this).remove();
                $(fieldID).remove();
            });
    });    
                $('#form1').submit(function() {
                        $.post("/register", $('#form1').serialize(), function(data){
                                alert(data);
                                $('#form1').trigger("reset");
                        });
                        return false;
              });
});

        </script>

	</head>

	<body onload="form1.reset();">
		<div id="header">
			<div id="headercenter">
				<div id="logo">
					<a href="/home">
						<img src="images/MongoWeb.png" width="80px" height="60px" alt="MongoWeb" /><br/>
						<h1>CoursePlanner</h1>
					</a>
				</div>
			</div>
		</div>
		<div id="login">
			<div class="container">
				<div class="row">
					<div class="col-md-9 col-md-offset-7" style="margin-left:15%">
						<div class="panel panel-default">
							<div class="panel-heading"><span class="glyphicon glyphicon-user"></span> Register New User</div>
							<form id="form1" class="form-horizontal" role="form" method="POST">
								<div class="panel-body">
									<div class="form-group">
										<label for="inputUsername" class="col-sm-4 control-label">Username </label>
										<div class="col-sm-4"><input name="username" type="text" class="form-control" id="inputUsername" placeholder="Username" required></div>
									</div>
									<div class="form-group">
										<label for="inputPassword3" class="col-sm-4 control-label">Password </label>
										<div class="col-sm-4"><input name="password" type="password" class="form-control" id="inputPassword3" placeholder="Password" required></div>
									</div>
									<div class="form-group">
										<label for="inputUsername" class="col-sm-4 control-label">Specialization </label>
										<div class="col-sm-4"><select name="specialization" class="form-control gselectlist" id="specialization"></select></div>
									</div>
								</div>
								<div class="panel-footer">
									<div class="form-group last" style="text-align:center">
										<div class="col-sm-12">
											<button type="submit" class="btn btn-success btn-sm">Register</button>&nbsp&nbsp&nbsp&nbsp&nbsp
											<button type="reset" class="btn btn-default btn-sm">Reset</button>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

      <br>
		<!-- end login -->
		<script type="text/javascript" src="./scripts/bootstrap.min.js"></script>
	</body>
</html>
